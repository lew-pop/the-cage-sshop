"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[150],{4150:function(r,e,s){s.r(e);var a=s(675),t=s(9379),d=s(467),c=s(5544),n=s(5043),o=s(3216),i=s(3003),l=s(2168),u=s(5873),v=s(970),m=s(931),p=s(579);e.default=function(){var r=(0,i.wA)(),e=(0,o.zy)().pathname,s=(0,o.g)().orderId,f=(0,m.Uc)(s),_=f.order,x=(f.error,f.loading,(0,n.useState)(!1)),h=(0,c.A)(x,2),A=h[0],C=h[1],E=(0,n.useState)(null),j=(0,c.A)(E,2),b=j[0],S=j[1],T=(0,n.useState)({_id:"",source:""}),D=(0,c.A)(T,2),R=D[0],O=D[1],g=function(){var r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.CLOVER_API_KEY,e=new window.Clover(r,{merchantId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.CLOVER_MERCHANT_ID});S(e);var s=b.elements(),a=s.create("CARD_NUMBER"),t=s.create("CARD_NAME"),d=s.create("CARD_DATE"),c=s.create("CARD_CVV"),n=s.create("CARD_POSTAL_CODE");a.mount("#card-number"),t.mount("#card-name"),d.mount("#card-date"),c.mount("#card-cvv"),n.mount("#card-postal-code");var o=function(r,e,s){var a=document.getElementById(e);r.addEventListener("change",(function(r){a.innerHTML=r[s].error||""})),r.addEventListener("blur",(function(r){a.innerHTML=r[s].error||""}))};o(a,"card-number-errors","CARD_NUMBER"),o(t,"card-name-errors","CARD_NAME"),o(d,"card-date-errors","CARD_DATE"),o(c,"card-cvv-errors","CARD_CVV"),o(n,"card-postal-code-errors","CARD_POSTAL_CODE")};(0,n.useEffect)((function(){_&&_._id===Number(s)?_.isPaid||A||function(){var r=document.createElement("script");r.type="text/javascript",r.src="https://checkout.sandbox.dev.clover.com/sdk.js",r.async=!0,r.onload=function(){C(!0),g()},document.body.appendChild(r)}():r(m.Uc.initiate(s))}),[r,_,s,A]);var k=function(){var r=(0,d.A)((0,a.A)().mark((function r(e){var d,c;return(0,a.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.preventDefault(),!b){r.next=21;break}return r.prev=2,r.next=5,b.createToken();case 5:if(!(d=r.sent).errors){r.next=10;break}Object.values(d.errors).forEach((function(r){console.log(r)})),r.next=16;break;case 10:return r.next=12,d.token;case 12:c=r.sent,O((0,t.A)((0,t.A)({},R),{},{_id:s,source:c})),alert(c),m.FE.initiate(R);case 16:r.next=21;break;case 18:r.prev=18,r.t0=r.catch(2),console.log(r.t0);case 21:case"end":return r.stop()}}),r,null,[[2,18]])})));return function(e){return r.apply(this,arguments)}}();return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(l.A,{titleTemplate:"Checkout",description:"Clover Secure Payment Page for The Cage SShop"}),(0,p.jsxs)(u.A,{headerTop:"visibile",children:[(0,p.jsx)(v.A,{pages:[{label:"Home",path:"/"},{label:"Checkout",path:""+e}],backgroundImage:"/assets/img/bg/breadcrumb.png"}),(0,p.jsx)("div",{class:"container",children:(0,p.jsxs)("form",{action:"/charge",method:"post",id:"payment-form",onSubmit:k,children:[(0,p.jsxs)("div",{class:"form-row top-row",children:[(0,p.jsx)("div",{id:"card-number",class:"field card-number"}),(0,p.jsx)("div",{class:"input-errors",id:"card-number-errors",role:"alert"})]}),(0,p.jsxs)("div",{class:"form-row",children:[(0,p.jsx)("div",{id:"card-name",class:"field card-name"}),(0,p.jsx)("div",{class:"input-errors",id:"card-name-errors",role:"alert"})]}),(0,p.jsxs)("div",{class:"form-row",children:[(0,p.jsx)("div",{id:"card-date",class:"field card-date"}),(0,p.jsx)("div",{class:"input-errors",id:"card-date-errors",role:"alert"})]}),(0,p.jsxs)("div",{class:"form-row",children:[(0,p.jsx)("div",{id:"card-cvv",class:"field card-cvv"}),(0,p.jsx)("div",{class:"input-errors",id:"card-cvv-errors",role:"alert"})]}),(0,p.jsxs)("div",{class:"form-row",children:[(0,p.jsx)("div",{id:"card-postal-code",class:"field card-postal-code"}),(0,p.jsx)("div",{class:"input-errors",id:"card-postal-code-errors",role:"alert"})]}),(0,p.jsxs)("div",{class:"form-row",children:[(0,p.jsx)("div",{id:"card-street-address",class:"field card-street-address"}),(0,p.jsx)("div",{class:"input-errors",id:"card-street-address-errors",role:"alert"})]}),(0,p.jsx)("div",{id:"card-response",role:"alert"}),(0,p.jsx)("div",{class:"button-container",children:(0,p.jsx)("button",{id:"submit_button",children:"Submit Payment"})})]})})]})]})}}}]);
//# sourceMappingURL=150.f06fc808.chunk.js.map