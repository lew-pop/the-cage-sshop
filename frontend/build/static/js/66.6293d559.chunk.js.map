{"version":3,"file":"static/js/66.6293d559.chunk.js","mappings":"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","sources":["components/util/FormContainer.js","components/util/Loader.js","components/util/Message.js","pages/Login.js","store/services/user.js","wrappers/breadcrumb/Breadcrumb.js"],"sourcesContent":["import React from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\n\nfunction FormContainer({ children }) {\n    return (\n        <Container>\n            <Row className=\"justify-content-md-center\">\n                <Col xs={12} md={6}>\n                    {children}\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default FormContainer\n","import React from 'react'\nimport { Spinner } from 'react-bootstrap'\n\nfunction Loader() {\n    return (\n        <Spinner\n            animation='border'\n            role='status'\n            style={{\n                height: '100px',\n                width: '100px',\n                margin: 'auto',\n                display: 'block'\n            }}\n        >\n            <span className='sr-only'>Loading...</span>\n        </Spinner>\n    )\n}\n\nexport default Loader\n","import React from 'react'\nimport { Alert } from 'react-bootstrap'\n\nfunction Message({ variant, children }) {\n    return (\n        <Alert variant={variant}>\n            {children}\n        </Alert>\n    )\n}\n\nexport default Message\n","import React, { Fragment, useState, useEffect } from \"react\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { useLoginUserMutation } from \"../store/services/user\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setUserInfo } from \"../store/slices/user-slice\";\nimport { Container, Form, Button, Row, Col } from \"react-bootstrap\";\nimport Loader from \"../components/util/Loader\";\nimport Message from \"../components/util/Message\";\nimport FormContainer from \"../components/util/FormContainer\";\nimport SEO from \"../components/seo\";\nimport LayoutOne from \"../layouts/LayoutOne\";\nimport Breadcrumb from \"../wrappers/breadcrumb/Breadcrumb\";\n\nconst Login = () => {\n  const { pathname } = useLocation();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const user = useSelector((state) => state.userLogin.userInfo);\n\n  const [loginUser, { isLoading, error, isError }] = useLoginUserMutation();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  \n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  useEffect(() => {\n    if (user) {\n      navigate(\"/home\");\n    }\n  }, [user, navigate]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const userData = await loginUser(formData).unwrap();\n      console.log(\"User Login Success!!\", userData); // Debug log\n      dispatch(setUserInfo(userData));\n      console.log(\"User Set Info Success!!\"); // Debug log\n    } catch (err) {\n      console.error(\"Failed to login:\", err);\n    }\n  };\n\n  return (\n    <Fragment>\n      <SEO\n        titleTemplate=\"Login\"\n        description=\"Login page of The Cage SShop Online | Vape and Smoke Accessories.\"\n      />\n      <LayoutOne headerTop=\"visible\">\n        <Breadcrumb\n          pages={[\n            { label: \"Home\", path: process.env.PUBLIC_URL + \"/\" },\n            { label: \"Login\", path: process.env.PUBLIC_URL + pathname },\n          ]}\n          backgroundImage=\"https://the-cage-online-assets.s3.us-west-1.amazonaws.com/build/breadcrumb-light.png\"\n        />\n        <Container className=\"py-4 login-form-container\">\n          <FormContainer>\n            <h1>Sign In</h1>\n            {isError && (\n              <Message variant=\"danger\">\n                {error?.data?.detail || error.error}\n              </Message>\n            )}\n            {isLoading && <Loader />}\n            <Form onSubmit={handleSubmit}>\n              <Form.Group controlId=\"email\">\n                <Form.Label>Email Address</Form.Label>\n                <Form.Control\n                  type=\"email\"\n                  placeholder=\"Enter Email\"\n                  name=\"username\"\n                  onChange={handleChange}\n                ></Form.Control>\n              </Form.Group>\n\n              <Form.Group controlId=\"password\">\n                <Form.Label>Password</Form.Label>\n                <Form.Control\n                  type=\"password\"\n                  placeholder=\"Enter Password\"\n                  name=\"password\"\n                  onChange={handleChange}\n                ></Form.Control>\n              </Form.Group>\n\n              <Button className=\"my-2\" type=\"submit\" variant=\"primary\">\n                Sign In\n              </Button>\n            </Form>\n\n            <Row className=\"py-3\">\n              <Col>\n                New Customer? <Link to={\"/register\"}>Register</Link>\n              </Col>\n            </Row>\n          </FormContainer>\n        </Container>\n      </LayoutOne>\n    </Fragment>\n  );\n};\n\nexport default Login;\n","import { api } from \"./api\";\n\nexport const userApi = api.injectEndpoints({\n  endpoints: (builder) => ({\n    // User endpoints\n    confirmEmail: builder.query({\n      query: ({ uidb64, token }) => `users/activate/${uidb64}/${token}/`,\n      providesTags: ['User'],\n    }),\n    registerUser: builder.mutation({\n      query: (user) => ({\n        url: \"users/register/\",\n        method: \"POST\",\n        body: user,\n      })\n    }),\n    loginUser: builder.mutation({\n      query: (credentials) => ({\n        url: \"users/login/\",\n        method: \"POST\",\n        body: credentials,\n      })\n    }),\n    getUserDetails: builder.query({\n      query: (id) => `/users/${id}/`,\n      providesTags: (result, error, id) => [{ type: 'User', id }],\n    }),\n    updateUserProfile: builder.mutation({\n      query: (user) => ({\n        url: '/users/profile/update/',\n        method: 'PUT',\n        body: user,\n      }),\n      invalidatesTags: (result, error, user) => [{ type: 'User', id: user._id }],\n    }),\n    listUsers: builder.query({\n      query: () => '/users/',\n      providesTags: ['User'],\n    }),\n    deleteUser: builder.mutation({\n      query: (id) => ({\n        url: `/users/delete/${id}/`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: ['User'],\n    }),\n    updateUser: builder.mutation({\n      query: (user) => ({\n        url: `/users/update/${user._id}/`,\n        method: 'PUT',\n        body: user,\n      }),\n      invalidatesTags: (result, error, user) => [{ type: 'User', id: user._id }],\n    }),\n  }),\n});\n\nexport const {\n  useConfirmEmailQuery,\n  useRegisterUserMutation,\n  useLoginUserMutation,\n  useGetUserDetailsQuery,\n  useUpdateUserProfileMutation,\n  useListUsersQuery,\n  useDeleteUserMutation,\n  useUpdateUserMutation,\n} = userApi;\n","import PropTypes from \"prop-types\";\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\nimport { Link } from \"react-router-dom\";\n\nconst BreadcrumbWrap = ({pages, backgroundImage}) => {\n  return (\n    <div className=\"breadcrumb-area pt-120 pb-120 bg-gray-3 bg-img\"\n    style={{\n      backgroundImage: ` ${\n        backgroundImage\n          ? `url(${process.env.PUBLIC_URL + backgroundImage})`\n          : `url()`\n      }`\n    }}\n    >\n      <div className=\"container\">\n        <Breadcrumb>\n            {pages?.map(({ path, label }, i) => i !== pages.length - 1 ? (\n                <Breadcrumb.Item key={label} linkProps={{to: path}} linkAs={Link}>\n                  {label}\n                </Breadcrumb.Item>\n            ) : (                \n              <Breadcrumb.Item key={label} active>\n                {label}\n              </Breadcrumb.Item>\n            ))}\n        </Breadcrumb>\n      </div>\n    </div>\n  );\n};\n\nBreadcrumbWrap.propTypes = {\n  pages: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    path: PropTypes.string.isRequired\n  })).isRequired\n}\n\nexport default BreadcrumbWrap;\n"],"names":["_ref","children","_jsx","Container","Row","className","Col","xs","md","Spinner","animation","role","style","height","width","margin","display","variant","Alert","_error$data","pathname","useLocation","navigate","useNavigate","dispatch","useDispatch","user","useSelector","state","userLogin","userInfo","_useLoginUserMutation","useLoginUserMutation","_useLoginUserMutation2","_slicedToArray","loginUser","_useLoginUserMutation3","isLoading","error","isError","_useState","useState","username","password","_useState2","formData","setFormData","handleChange","e","_objectSpread","_defineProperty","target","name","value","useEffect","handleSubmit","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userData","wrap","_context","prev","next","preventDefault","unwrap","sent","console","log","setUserInfo","t0","stop","_x","apply","arguments","_jsxs","Fragment","SEO","titleTemplate","description","LayoutOne","headerTop","Breadcrumb","pages","label","path","process","backgroundImage","FormContainer","Message","data","detail","Loader","Form","onSubmit","Group","controlId","Label","Control","type","placeholder","onChange","Button","Link","to","userApi","api","injectEndpoints","endpoints","builder","confirmEmail","query","uidb64","token","concat","providesTags","registerUser","mutation","url","method","body","credentials","getUserDetails","id","result","updateUserProfile","invalidatesTags","_id","listUsers","deleteUser","updateUser","useConfirmEmailQuery","useRegisterUserMutation","useGetUserDetailsQuery","useUpdateUserProfileMutation","useListUsersQuery","useDeleteUserMutation","useUpdateUserMutation","map","_ref2","i","length","Item","linkProps","linkAs","active"],"sourceRoot":""}