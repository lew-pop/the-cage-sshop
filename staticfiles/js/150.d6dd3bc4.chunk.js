"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[150],{4150:function(e,r,s){s.r(r);var a=s(675),t=s(9379),c=s(467),d=s(5544),n=s(5043),o=s(3216),i=s(3003),l=s(2168),u=s(5873),v=s(970),m=s(931),f=s(579);r.default=function(){var e=(0,i.wA)(),r=(0,o.zy)().pathname,s=(0,o.g)().orderId,p=(0,m.Uc)(s),x=p.order,h=(p.error,p.loading,(0,n.useState)(!1)),b=(0,d.A)(h,2),j=b[0],A=b[1],C=(0,n.useState)(null),g=(0,d.A)(C,2),k=g[0],_=g[1],w=(0,n.useState)({_id:"",source:""}),D=(0,d.A)(w,2),E=D[0],R=D[1],T=function(){var e=new window.Clover("b829a56bd1537aa8e45df8ef09b16919",{merchantId:"RCTSTAVI0010002"});_(e);var r=k.elements(),s=r.create("CARD_NUMBER"),a=r.create("CARD_NAME"),t=r.create("CARD_DATE"),c=r.create("CARD_CVV"),d=r.create("CARD_POSTAL_CODE");s.mount("#card-number"),a.mount("#card-name"),t.mount("#card-date"),c.mount("#card-cvv"),d.mount("#card-postal-code");var n=function(e,r,s){var a=document.getElementById(r);e.addEventListener("change",(function(e){a.innerHTML=e[s].error||""})),e.addEventListener("blur",(function(e){a.innerHTML=e[s].error||""}))};n(s,"card-number-errors","CARD_NUMBER"),n(a,"card-name-errors","CARD_NAME"),n(t,"card-date-errors","CARD_DATE"),n(c,"card-cvv-errors","CARD_CVV"),n(d,"card-postal-code-errors","CARD_POSTAL_CODE")};(0,n.useEffect)((function(){x&&x._id===Number(s)?x.isPaid||j||function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://checkout.sandbox.dev.clover.com/sdk.js",e.async=!0,e.onload=function(){A(!0),T()},document.body.appendChild(e)}():e(m.Uc.initiate(s))}),[e,x,s,j]);var S=function(){var e=(0,c.A)((0,a.A)().mark((function e(r){var c,d;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!k){e.next=21;break}return e.prev=2,e.next=5,k.createToken();case 5:if(!(c=e.sent).errors){e.next=10;break}Object.values(c.errors).forEach((function(e){console.log(e)})),e.next=16;break;case 10:return e.next=12,c.token;case 12:d=e.sent,R((0,t.A)((0,t.A)({},E),{},{_id:s,source:d})),alert(d),m.FE.initiate(E);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(r){return e.apply(this,arguments)}}();return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(l.A,{titleTemplate:"Checkout",description:"Clover Secure Payment Page for The Cage SShop"}),(0,f.jsxs)(u.A,{headerTop:"visibile",children:[(0,f.jsx)(v.A,{pages:[{label:"Home",path:"/"},{label:"Checkout",path:""+r}],backgroundImage:"/assets/img/bg/breadcrumb.png"}),(0,f.jsx)("div",{class:"container",children:(0,f.jsxs)("form",{action:"/charge",method:"post",id:"payment-form",onSubmit:S,children:[(0,f.jsxs)("div",{class:"form-row top-row",children:[(0,f.jsx)("div",{id:"card-number",class:"field card-number"}),(0,f.jsx)("div",{class:"input-errors",id:"card-number-errors",role:"alert"})]}),(0,f.jsxs)("div",{class:"form-row",children:[(0,f.jsx)("div",{id:"card-name",class:"field card-name"}),(0,f.jsx)("div",{class:"input-errors",id:"card-name-errors",role:"alert"})]}),(0,f.jsxs)("div",{class:"form-row",children:[(0,f.jsx)("div",{id:"card-date",class:"field card-date"}),(0,f.jsx)("div",{class:"input-errors",id:"card-date-errors",role:"alert"})]}),(0,f.jsxs)("div",{class:"form-row",children:[(0,f.jsx)("div",{id:"card-cvv",class:"field card-cvv"}),(0,f.jsx)("div",{class:"input-errors",id:"card-cvv-errors",role:"alert"})]}),(0,f.jsxs)("div",{class:"form-row",children:[(0,f.jsx)("div",{id:"card-postal-code",class:"field card-postal-code"}),(0,f.jsx)("div",{class:"input-errors",id:"card-postal-code-errors",role:"alert"})]}),(0,f.jsxs)("div",{class:"form-row",children:[(0,f.jsx)("div",{id:"card-street-address",class:"field card-street-address"}),(0,f.jsx)("div",{class:"input-errors",id:"card-street-address-errors",role:"alert"})]}),(0,f.jsx)("div",{id:"card-response",role:"alert"}),(0,f.jsx)("div",{class:"button-container",children:(0,f.jsx)("button",{id:"submit_button",children:"Submit Payment"})})]})})]})]})}}}]);
//# sourceMappingURL=150.d6dd3bc4.chunk.js.map