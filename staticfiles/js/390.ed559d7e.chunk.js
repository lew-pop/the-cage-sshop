"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[390],{3295:function(e,r,n){n(5043);var t=n(3519),s=n(1072),a=n(8602),i=n(579);r.A=function(e){var r=e.children;return(0,i.jsx)(t.A,{children:(0,i.jsx)(s.A,{className:"justify-content-md-center",children:(0,i.jsx)(a.A,{xs:12,md:6,children:r})})})}},7491:function(e,r,n){n(5043);var t=n(7417),s=n(579);r.A=function(){return(0,s.jsx)(t.A,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:(0,s.jsx)("span",{className:"sr-only",children:"Loading..."})})}},5505:function(e,r,n){n(5043);var t=n(1719),s=n(579);r.A=function(e){var r=e.variant,n=e.children;return(0,s.jsx)(t.A,{variant:r,children:n})}},3390:function(e,r,n){n.r(r);var t=n(675),s=n(467),a=n(4467),i=n(9379),o=n(5544),u=n(5043),l=n(3216),c=n(5475),d=n(8852),p=n(3003),h=n(4446),m=n(3519),f=n(3814),g=n(4282),A=n(1072),x=n(8602),v=n(7491),y=n(5505),j=n(3295),b=n(2168),U=n(5873),w=n(970),k=n(579);r.default=function(){var e,r=(0,l.zy)().pathname,n=(0,l.Zp)(),C=(0,p.wA)(),q=(0,d.L5)(),T=(0,o.A)(q,2),E=T[0],P=T[1],I=P.isLoading,L=P.error,S=P.isError,N=(0,u.useState)(""),R=(0,o.A)(N,2),_=R[0],D=R[1],G=(0,u.useState)(""),M=(0,o.A)(G,2),F=M[0],O=M[1],Q=(0,p.d4)((function(e){return e.userLogin.userInfo})),z=(0,u.useState)({name:"",email:"",password:""}),H=(0,o.A)(z,2),J=H[0],V=H[1],Z=function(e){V((0,i.A)((0,i.A)({},J),{},(0,a.A)({},e.target.name,e.target.value)))};(0,u.useEffect)((function(){Q&&n("/")}),[Q,n]);var B=function(){var e=(0,s.A)((0,t.A)().mark((function e(r){var n;return(0,t.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),console.log("Form submitted"),J.password===_){e.next=6;break}O("Passwords do not match"),e.next=19;break;case 6:return e.prev=6,e.next=9,E(J).unwrap();case 9:n=e.sent,O("Check your email for a confirmation link!"),console.log("User Registered Successfully!!",n),C((0,h.iA)(n)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),console.error("Failed to register:",e.t0),O("Registration failed. Please try again.");case 19:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(r){return e.apply(this,arguments)}}();return(0,k.jsxs)(u.Fragment,{children:[(0,k.jsx)(b.A,{titleTemplate:"Register",description:"Register page of The Cage SShop Online | Vape and Smoke Accessories."}),(0,k.jsxs)(U.A,{headerTop:"visible",children:[(0,k.jsx)(w.A,{pages:[{label:"Home",path:"/"},{label:"Register",path:""+r}],backgroundImage:"https://the-cage-online-assets.s3.us-west-1.amazonaws.com/build/breadcrumb-light.png"}),(0,k.jsx)(m.A,{className:"py-4 login-form-container",children:(0,k.jsxs)(j.A,{children:[(0,k.jsx)("h1",{children:"Sign In"}),F&&(0,k.jsx)(y.A,{variant:"danger",children:F}),S&&(0,k.jsx)(y.A,{variant:"danger",children:(null===L||void 0===L||null===(e=L.data)||void 0===e?void 0:e.detail)||L.error}),I&&(0,k.jsx)(v.A,{}),(0,k.jsxs)(f.A,{onSubmit:B,children:[(0,k.jsxs)(f.A.Group,{controlId:"name",children:[(0,k.jsx)(f.A.Label,{children:"Name"}),(0,k.jsx)(f.A.Control,{required:!0,type:"text",placeholder:"Enter name",name:"name",onChange:Z})]}),(0,k.jsxs)(f.A.Group,{controlId:"email",children:[(0,k.jsx)(f.A.Label,{children:"Email Address"}),(0,k.jsx)(f.A.Control,{required:!0,type:"email",placeholder:"Enter Email",name:"email",onChange:Z})]}),(0,k.jsxs)(f.A.Group,{controlId:"password",children:[(0,k.jsx)(f.A.Label,{children:"Password"}),(0,k.jsx)(f.A.Control,{required:!0,type:"password",placeholder:"Enter Password",name:"password",onChange:Z})]}),(0,k.jsxs)(f.A.Group,{controlId:"passwordConfirm",children:[(0,k.jsx)(f.A.Label,{children:"Confirm Password"}),(0,k.jsx)(f.A.Control,{required:!0,type:"password",placeholder:"Confirm Password",value:_,onChange:function(e){return D(e.target.value)}})]}),(0,k.jsx)(g.A,{className:"my-3",type:"submit",variant:"primary",children:"Register"})]}),(0,k.jsx)(A.A,{className:"py-3",children:(0,k.jsxs)(x.A,{children:["Have an Account? ",(0,k.jsx)(c.N_,{to:"/login",children:"Sign In"})]})})]})})]})]})}},8852:function(e,r,n){n.d(r,{L5:function(){return a},_A:function(){return s},h8:function(){return i}});var t=n(8314).J.injectEndpoints({endpoints:function(e){return{confirmEmail:e.query({query:function(e){var r=e.uidb64,n=e.token;return"users/activate/".concat(r,"/").concat(n,"/")},providesTags:["User"]}),registerUser:e.mutation({query:function(e){return{url:"users/register/",method:"POST",body:e}}}),loginUser:e.mutation({query:function(e){return{url:"users/login/",method:"POST",body:e}}}),getUserDetails:e.query({query:function(e){return"users/".concat(e,"/")},providesTags:function(e,r,n){return[{type:"User",id:n}]}}),updateUserProfile:e.mutation({query:function(e){return{url:"users/profile/update/",method:"PUT",body:e}},invalidatesTags:function(e,r,n){return[{type:"User",id:n._id}]}}),listUsers:e.query({query:function(){return"users/"},providesTags:["User"]}),deleteUser:e.mutation({query:function(e){return{url:"users/delete/".concat(e,"/"),method:"DELETE"}},invalidatesTags:["User"]}),updateUser:e.mutation({query:function(e){return{url:"users/update/".concat(e._id,"/"),method:"PUT",body:e}},invalidatesTags:function(e,r,n){return[{type:"User",id:n._id}]}})}}}),s=t.useConfirmEmailQuery,a=t.useRegisterUserMutation,i=t.useLoginUserMutation;t.useGetUserDetailsQuery,t.useUpdateUserProfileMutation,t.useListUsersQuery,t.useDeleteUserMutation,t.useUpdateUserMutation},970:function(e,r,n){var t=n(9397),s=n(5475),a=n(579);r.A=function(e){var r=e.pages,n=e.backgroundImage;return(0,a.jsx)("div",{className:"breadcrumb-area pt-120 pb-120 bg-gray-3 bg-img",style:{backgroundImage:" ".concat(n?"url(".concat(""+n,")"):"url()")},children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)(t.A,{children:null===r||void 0===r?void 0:r.map((function(e,n){var i=e.path,o=e.label;return n!==r.length-1?(0,a.jsx)(t.A.Item,{linkProps:{to:i},linkAs:s.N_,children:o},o):(0,a.jsx)(t.A.Item,{active:!0,children:o},o)}))})})})}}}]);
//# sourceMappingURL=390.ed559d7e.chunk.js.map